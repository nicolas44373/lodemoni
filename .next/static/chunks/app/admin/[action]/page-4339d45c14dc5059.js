(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70],{7195:function(e,a,n){Promise.resolve().then(n.bind(n,8101))},8101:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return s}});var t=n(7437),r=n(2265),i=n(9376),o=n(3839);function s(e){let{params:a}=e,n=(0,i.useRouter)(),[s,c]=(0,r.useState)(void 0),l="edit"===a.action;(0,r.useEffect)(()=>{l&&(0,o.wv)(a.action).then(c)},[l,a.action]);let u=async e=>{if(e.preventDefault(),!s)return;let{name:t,description:r,price:i,category:c}=s;if(!t||!r||!c||void 0===i){alert("Todos los campos son obligatorios");return}let u={name:t,description:r,price:i,category:c};l?await (0,o.nM)(a.action,u):await (0,o.ry)(u),n.push("/admin")},d=e=>{let{name:a,value:n}=e.target;c(e=>e?{...e,[a]:n}:void 0)};return(0,t.jsxs)("form",{onSubmit:u,className:"max-w-md mx-auto",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:[l?"Editar":"Agregar"," Producto"]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"name",className:"block mb-2",children:"Nombre:"}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",value:(null==s?void 0:s.name)||"",onChange:d,required:!0,className:"w-full px-3 py-2 border rounded"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"description",className:"block mb-2",children:"Descripci\xf3n:"}),(0,t.jsx)("textarea",{id:"description",name:"description",value:(null==s?void 0:s.description)||"",onChange:d,required:!0,className:"w-full px-3 py-2 border rounded"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"price",className:"block mb-2",children:"Precio:"}),(0,t.jsx)("input",{type:"number",id:"price",name:"price",value:(null==s?void 0:s.price)||"",onChange:d,required:!0,step:"0.01",className:"w-full px-3 py-2 border rounded"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"category",className:"block mb-2",children:"Categor\xeda:"}),(0,t.jsxs)("select",{id:"category",name:"category",value:(null==s?void 0:s.category)||"sandwich",onChange:d,required:!0,className:"w-full px-3 py-2 border rounded",children:[(0,t.jsx)("option",{value:"sandwich",children:"Sandwich"}),(0,t.jsx)("option",{value:"empanada",children:"Empanada"}),(0,t.jsx)("option",{value:"napolitana",children:"Napolitana"}),(0,t.jsx)("option",{value:"pizza",children:"Pizza"}),(0,t.jsx)("option",{value:"matambre",children:"Matambre"}),(0,t.jsx)("option",{value:"menu",children:"Menu"})]})]}),(0,t.jsxs)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:[l?"Actualizar":"Crear"," Producto"]})]})}},7293:function(e,a,n){"use strict";var t=n(738),r=n(5978);let i=(0,t.ZF)({apiKey:"AIzaSyBhQcOxpRa-KCMqsLBMA-cojXCeMKBY3BU",authDomain:"lodemoni-5d615.firebaseapp.com",projectId:"lodemoni-5d615",storageBucket:"lodemoni-5d615.appspot.com",messagingSenderId:"107003347477",appId:"1:107003347477:web:afe9207fe8825cebbfc41c",measurementId:"G-PF1YQ76NJ9"}),o=(0,r.ad)(i);a.Z=o},3839:function(e,a,n){"use strict";n.d(a,{Ir:function(){return l},Xp:function(){return i},nM:function(){return c},ry:function(){return s},wv:function(){return o}});var t=n(7293),r=n(5978);async function i(){let e=(0,r.hJ)(t.Z,"products");return(await (0,r.PL)(e)).docs.map(e=>({id:e.id,...e.data()}))}async function o(e){let a=(0,r.JU)(t.Z,"products",e),n=await (0,r.QT)(a);return n.exists()?{id:n.id,...n.data()}:void 0}async function s(e){let a={...e,price:"string"==typeof e.price?parseFloat(e.price):e.price};return{id:(await (0,r.ET)((0,r.hJ)(t.Z,"products"),a)).id,...a}}async function c(e,a){let n=(0,r.JU)(t.Z,"products",e),i={...a,price:"string"==typeof a.price?parseFloat(a.price):a.price};await (0,r.r7)(n,i);let o=await (0,r.QT)(n);if(o.exists())return{id:o.id,...o.data()}}async function l(e){await (0,r.oe)((0,r.JU)(t.Z,"products",e))}},9376:function(e,a,n){"use strict";var t=n(5475);n.o(t,"useRouter")&&n.d(a,{useRouter:function(){return t.useRouter}})}},function(e){e.O(0,[358,448,971,117,744],function(){return e(e.s=7195)}),_N_E=e.O()}]);