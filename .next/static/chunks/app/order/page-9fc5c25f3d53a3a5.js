(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{2352:function(e,t,r){Promise.resolve().then(r.bind(r,9883))},9883:function(e,t,r){"use strict";r.d(t,{default:function(){return N}});var a=r(7437),s=r(2265),n=r(9376),d=r(6070),o=r(5186),l=r(7129),i=r(6818),c=r(2869),u=r(9378),f=r(3647),m=r(5978),p=r(9205);let x=(0,p.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),h=(0,p.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),g=(0,p.Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var b=r(7293),v=r(6285);let y=[{value:"sandwich",label:"S\xe1ndwiches",icon:"\uD83E\uDD6A"},{value:"empanada",label:"Empanadas",icon:"\uD83E\uDD5F"},{value:"napolitana",label:"Napolitanas",icon:"\uD83C\uDF5D"},{value:"pizza",label:"Pizzas",icon:"\uD83C\uDF55"},{value:"matambre",label:"Matambres",icon:"\uD83E\uDD69"},{value:"menu",label:"Men\xfas",icon:"\uD83D\uDCCB"}];function N(){let[e,t]=(0,s.useState)(""),[r,p]=(0,s.useState)(""),[N,w]=(0,s.useState)([]),[j,D]=(0,s.useState)([]),[C,E]=(0,s.useState)(!1),[Z,k]=(0,s.useState)(y[0].value),I=(0,n.useRouter)();(0,s.useEffect)(()=>{(async()=>{try{let e=(0,m.hJ)(b.Z,"products"),t=(await (0,m.PL)(e)).docs.map(e=>({id:e.id,...e.data()}));w(t)}catch(e){console.error("Error fetching products:",e)}})()},[]);let A=async t=>{t.preventDefault(),E(!0);let a=j.filter(e=>e.quantity>0);if(!a.length){alert("Debe seleccionar al menos un producto."),E(!1);return}let s=a.reduce((e,t)=>{let r=N.find(e=>e.id===t.productId);return e+((null==r?void 0:r.price)||0)*t.quantity},0);try{let t={customerName:e,address:r,items:a,total:s};await (0,v.LV)(t),console.log("Nuevo pedido:",t),alert("Pedido enviado con \xe9xito."),I.push("/")}catch(e){console.error("Error al enviar el pedido:",e),alert("Hubo un error al enviar el pedido. Por favor, int\xe9ntalo de nuevo.")}finally{E(!1)}},R=(e,t)=>{D(r=>r.find(t=>t.productId===e)?r.map(r=>r.productId===e?{...r,quantity:t}:r):[...r,{productId:e,quantity:t,modifications:""}])},_=(e,t)=>{D(r=>r.map(r=>r.productId===e?{...r,modifications:t}:r))};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("form",{onSubmit:A,className:"max-w-4xl mx-auto space-y-8 bg-white shadow-2xl rounded-2xl overflow-hidden",children:[(0,a.jsxs)(d.Zb,{className:"border-none shadow-none",children:[(0,a.jsx)(d.Ol,{className:"bg-blue-500 text-white p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(x,{className:"w-8 h-8"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.ll,{className:"text-xl font-bold",children:"Informaci\xf3n del Cliente"}),(0,a.jsx)(d.SZ,{className:"text-blue-100",children:"Proporciona tus datos de contacto para la entrega"})]})]})}),(0,a.jsx)(d.aY,{className:"space-y-6 p-6 bg-gray-50",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l._,{htmlFor:"name",className:"text-gray-700 font-semibold",children:"Nombre"}),(0,a.jsx)(o.I,{id:"name",value:e,onChange:e=>t(e.target.value),required:!0,placeholder:"Ingresa tu nombre completo",className:"bg-white border-gray-300 focus:ring-2 focus:ring-blue-400"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l._,{htmlFor:"address",className:"text-gray-700 font-semibold",children:"Direcci\xf3n"}),(0,a.jsx)(i.g,{id:"address",value:r,onChange:e=>p(e.target.value),required:!0,placeholder:"Direcci\xf3n de entrega",className:"bg-white border-gray-300 focus:ring-2 focus:ring-blue-400 min-h-[100px]"})]})]})})]}),(0,a.jsxs)(d.Zb,{className:"border-none shadow-none",children:[(0,a.jsx)(d.Ol,{className:"bg-green-500 text-white p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(h,{className:"w-8 h-8"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.ll,{className:"text-xl font-bold",children:"Selecci\xf3n de Productos"}),(0,a.jsx)(d.SZ,{className:"text-green-100",children:"Elige tus productos y personal\xedzalos"})]})]})}),(0,a.jsxs)(d.aY,{className:"bg-gray-50 p-6",children:[(0,a.jsx)("div",{className:"flex space-x-2 mb-6 overflow-x-auto pb-2",children:y.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>k(e.value),className:"\n                    flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition-all\n                    ".concat(Z===e.value?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300","\n                  "),children:[(0,a.jsx)("span",{children:e.icon}),(0,a.jsx)("span",{children:e.label})]},e.value))}),(0,a.jsx)(u.x,{className:"h-[400px] pr-4",children:(0,a.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:N.filter(e=>e.category===Z).map(e=>{var t,r,s;return(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-4 shadow-sm hover:shadow-md transition-all",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.description||"Sin descripci\xf3n"})]}),(0,a.jsxs)("span",{className:"text-green-600 font-semibold text-lg",children:["$",e.price.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(f.Ph,{onValueChange:t=>R(e.id,parseInt(t)),value:(null===(r=j.find(t=>t.productId===e.id))||void 0===r?void 0:null===(t=r.quantity)||void 0===t?void 0:t.toString())||"0",children:[(0,a.jsx)(f.i4,{className:"w-full border-gray-300",children:(0,a.jsx)(f.ki,{placeholder:"Cantidad"})}),(0,a.jsx)(f.Bw,{children:[0,1,2,3,4,5].map(e=>(0,a.jsx)(f.Ql,{value:e.toString(),children:e},e))})]}),j.find(t=>t.productId===e.id&&t.quantity>0)&&(0,a.jsx)(i.g,{placeholder:"Modificaciones o instrucciones especiales",value:(null===(s=j.find(t=>t.productId===e.id))||void 0===s?void 0:s.modifications)||"",onChange:t=>_(e.id,t.target.value),className:"w-full border-gray-300 rounded-md"})]})]},e.id)})})})]}),(0,a.jsx)(d.eW,{className:"bg-white p-6 border-t",children:(0,a.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(g,{className:"w-6 h-6 text-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-xl font-bold text-gray-800",children:["Total: $",j.reduce((e,t)=>{let r=N.find(e=>e.id===t.productId);return e+((null==r?void 0:r.price)||0)*t.quantity},0).toFixed(2)]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Entrega a domicilio"})]})]}),(0,a.jsx)(c.z,{type:"submit",disabled:C||!j.length,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-full",children:C?"Enviando...":"Confirmar Pedido"})]})})]})]})})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var a=r(7437),s=r(2265),n=r(7495),d=r(535),o=r(4508);let l=(0,d.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),i=s.forwardRef((e,t)=>{let{className:r,variant:s,size:d,asChild:i=!1,...c}=e,u=i?n.g7:"button";return(0,a.jsx)(u,{className:(0,o.cn)(l({variant:s,size:d,className:r})),ref:t,...c})});i.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return i},Zb:function(){return d},aY:function(){return c},eW:function(){return u},ll:function(){return l}});var a=r(7437),s=r(2265),n=r(4508);let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});d.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...s})});l.displayName="CardTitle";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});i.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},5186:function(e,t,r){"use strict";r.d(t,{I:function(){return d}});var a=r(7437),s=r(2265),n=r(4508);let d=s.forwardRef((e,t)=>{let{className:r,type:s,...d}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...d})});d.displayName="Input"},7129:function(e,t,r){"use strict";r.d(t,{_:function(){return c}});var a=r(7437),s=r(2265),n=r(6840),d=s.forwardRef((e,t)=>(0,a.jsx)(n.WV.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));d.displayName="Label";var o=r(535),l=r(4508);let i=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(d,{ref:t,className:(0,l.cn)(i(),r),...s})});c.displayName=d.displayName},9378:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var a=r(7437),s=r(2265),n=r(1750),d=r(4508);let o=s.forwardRef((e,t)=>{let{className:r,children:s,...o}=e;return(0,a.jsxs)(n.fC,{ref:t,className:(0,d.cn)("relative overflow-hidden",r),...o,children:[(0,a.jsx)(n.l_,{className:"h-full w-full rounded-[inherit]",children:s}),(0,a.jsx)(l,{}),(0,a.jsx)(n.Ns,{})]})});o.displayName=n.fC.displayName;let l=s.forwardRef((e,t)=>{let{className:r,orientation:s="vertical",...o}=e;return(0,a.jsx)(n.gb,{ref:t,orientation:s,className:(0,d.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...o,children:(0,a.jsx)(n.q4,{className:"relative flex-1 rounded-full bg-border"})})});l.displayName=n.gb.displayName},3647:function(e,t,r){"use strict";r.d(t,{Bw:function(){return x},Ph:function(){return c},Ql:function(){return h},i4:function(){return f},ki:function(){return u}});var a=r(7437),s=r(2265),n=r(1592),d=r(875),o=r(2135),l=r(401),i=r(4508);let c=n.fC;n.ZA;let u=n.B4,f=s.forwardRef((e,t)=>{let{className:r,children:s,...o}=e;return(0,a.jsxs)(n.xz,{ref:t,className:(0,i.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...o,children:[s,(0,a.jsx)(n.JO,{asChild:!0,children:(0,a.jsx)(d.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=n.xz.displayName;let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.u_,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})});m.displayName=n.u_.displayName;let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.$G,{ref:t,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(d.Z,{className:"h-4 w-4"})})});p.displayName=n.$G.displayName;let x=s.forwardRef((e,t)=>{let{className:r,children:s,position:d="popper",...o}=e;return(0,a.jsx)(n.h_,{children:(0,a.jsxs)(n.VY,{ref:t,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===d&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:d,...o,children:[(0,a.jsx)(m,{}),(0,a.jsx)(n.l_,{className:(0,i.cn)("p-1","popper"===d&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(p,{})]})})});x.displayName=n.VY.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.__,{ref:t,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",r),...s})}).displayName=n.__.displayName;let h=s.forwardRef((e,t)=>{let{className:r,children:s,...d}=e;return(0,a.jsxs)(n.ck,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...d,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.wU,{children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(n.eT,{children:s})]})});h.displayName=n.ck.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.Z0,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=n.Z0.displayName},6818:function(e,t,r){"use strict";r.d(t,{g:function(){return d}});var a=r(7437),s=r(2265),n=r(4508);let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...s})});d.displayName="Textarea"},7293:function(e,t,r){"use strict";var a=r(738),s=r(5978);let n=(0,a.ZF)({apiKey:"AIzaSyBhQcOxpRa-KCMqsLBMA-cojXCeMKBY3BU",authDomain:"lodemoni-5d615.firebaseapp.com",projectId:"lodemoni-5d615",storageBucket:"lodemoni-5d615.appspot.com",messagingSenderId:"107003347477",appId:"1:107003347477:web:afe9207fe8825cebbfc41c",measurementId:"G-PF1YQ76NJ9"}),d=(0,s.ad)(n);t.Z=d},6285:function(e,t,r){"use strict";r.d(t,{AU:function(){return o},Cs:function(){return i},LV:function(){return d},co:function(){return l},dA:function(){return c}});var a=r(7293),s=r(5978);function n(e){return e instanceof s.EK?e.toDate():e}async function d(e){try{let t=new Date,r={...e,status:"pending",createdAt:t};return{id:(await (0,s.ET)((0,s.hJ)(a.Z,"orders"),{...r,createdAt:s.EK.fromDate(r.createdAt)})).id,...r}}catch(e){throw console.error("Error creating order:",e),Error("Could not create the order.")}}async function o(){try{let e=(0,s.hJ)(a.Z,"orders");return(await (0,s.PL)(e)).docs.map(e=>{let t=e.data();return{id:e.id,customerName:t.customerName,address:t.address,items:t.items,total:t.total,status:t.status,createdAt:n(t.createdAt)}})}catch(e){return console.error("Error fetching orders:",e),[]}}async function l(e){try{let t=(0,s.JU)(a.Z,"orders",e),r=await (0,s.QT)(t);if(r.exists()){let e=r.data();return{id:r.id,customerName:e.customerName,address:e.address,items:e.items,total:e.total,status:e.status,createdAt:n(e.createdAt)}}console.warn("Order with ID ".concat(e," not found."));return}catch(e){throw console.error("Error fetching order:",e),Error("Could not fetch the order.")}}async function i(e,t){try{if(t.status&&!["pending","completed","cancelled"].includes(t.status))throw Error("Invalid order status");let r=(0,s.JU)(a.Z,"orders",e),d={...t};t.createdAt instanceof Date&&(d.createdAt=s.EK.fromDate(t.createdAt)),await (0,s.r7)(r,d);let o=await (0,s.QT)(r);if(o.exists()){let e=o.data();return{id:o.id,customerName:e.customerName,address:e.address,items:e.items,total:e.total,status:e.status,createdAt:n(e.createdAt)}}console.warn("Order with ID ".concat(e," not found after update."));return}catch(e){throw console.error("Error updating order:",e),Error("Could not update the order.")}}async function c(e){try{let t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1),d=(0,s.hJ)(a.Z,"orders"),o=(0,s.IO)(d,(0,s.ar)("status","==","completed"),(0,s.ar)("createdAt",">=",s.EK.fromDate(t)),(0,s.ar)("createdAt","<",s.EK.fromDate(r)));return(await (0,s.PL)(o)).docs.map(e=>{let t=e.data();return{id:e.id,customerName:t.customerName,address:t.address,items:t.items,total:t.total,status:t.status,createdAt:n(t.createdAt)}})}catch(e){return console.error("Error fetching completed orders for the day:",e),[]}}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(1994),s=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}},function(e){e.O(0,[358,448,137,534,722,971,117,744],function(){return e(e.s=2352)}),_N_E=e.O()}]);