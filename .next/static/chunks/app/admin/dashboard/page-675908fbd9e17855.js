(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{2163:function(e,t,r){Promise.resolve().then(r.bind(r,8681))},8681:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var a=r(7437),s=r(2265),n=r(6285),d=r(6070),o=r(3578);function l(){let[e,t]=(0,s.useState)([]),[r,l]=(0,s.useState)(0);return(0,s.useEffect)(()=>{(async()=>{let e=new Date,r=await (0,n.dA)(e);t(r),l(r.reduce((e,t)=>e+t.total,0))})()},[]),(0,a.jsxs)("div",{className:"container mx-auto py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Dashboard"}),(0,a.jsxs)("div",{className:"grid gap-6 mb-8 md:grid-cols-2",children:[(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{children:[(0,a.jsx)(d.ll,{children:"Pedidos Completados Hoy"}),(0,a.jsx)(d.SZ,{children:"N\xfamero total de pedidos entregados"})]}),(0,a.jsx)(d.aY,{children:(0,a.jsx)("div",{className:"text-4xl font-bold",children:e.length})})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{children:[(0,a.jsx)(d.ll,{children:"Ingresos Totales Hoy"}),(0,a.jsx)(d.SZ,{children:"Suma total de los pedidos completados"})]}),(0,a.jsx)(d.aY,{children:(0,a.jsxs)("div",{className:"text-4xl font-bold",children:["$",r.toFixed(2)]})})]})]}),(0,a.jsxs)(d.Zb,{children:[(0,a.jsxs)(d.Ol,{children:[(0,a.jsx)(d.ll,{children:"Pedidos Completados Hoy"}),(0,a.jsx)(d.SZ,{children:"Lista detallada de los pedidos entregados"})]}),(0,a.jsx)(d.aY,{children:(0,a.jsxs)(o.iA,{children:[(0,a.jsx)(o.xD,{children:(0,a.jsxs)(o.SC,{children:[(0,a.jsx)(o.ss,{children:"ID"}),(0,a.jsx)(o.ss,{children:"Cliente"}),(0,a.jsx)(o.ss,{children:"Total"}),(0,a.jsx)(o.ss,{children:"Hora"})]})}),(0,a.jsx)(o.RM,{children:e.map(e=>(0,a.jsxs)(o.SC,{children:[(0,a.jsx)(o.pj,{children:e.id}),(0,a.jsx)(o.pj,{children:e.customerName}),(0,a.jsxs)(o.pj,{children:["$",e.total.toFixed(2)]}),(0,a.jsx)(o.pj,{children:e.createdAt.toLocaleTimeString()})]},e.id))})]})})]})]})}},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return d},aY:function(){return i},eW:function(){return u},ll:function(){return l}});var a=r(7437),s=r(2265),n=r(4508);let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});d.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...s})});l.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});i.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},3578:function(e,t,r){"use strict";r.d(t,{RM:function(){return l},SC:function(){return c},iA:function(){return d},pj:function(){return u},ss:function(){return i},xD:function(){return o}});var a=r(7437),s=r(2265),n=r(4508);let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...s})})});d.displayName="Table";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...s})});o.displayName="TableHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...s})});l.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});c.displayName="TableRow";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});i.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption"},7293:function(e,t,r){"use strict";var a=r(738),s=r(5978);let n=(0,a.ZF)({apiKey:"AIzaSyBhQcOxpRa-KCMqsLBMA-cojXCeMKBY3BU",authDomain:"lodemoni-5d615.firebaseapp.com",projectId:"lodemoni-5d615",storageBucket:"lodemoni-5d615.appspot.com",messagingSenderId:"107003347477",appId:"1:107003347477:web:afe9207fe8825cebbfc41c",measurementId:"G-PF1YQ76NJ9"}),d=(0,s.ad)(n);t.Z=d},6285:function(e,t,r){"use strict";r.d(t,{AU:function(){return o},Cs:function(){return c},LV:function(){return d},co:function(){return l},dA:function(){return i}});var a=r(7293),s=r(5978);function n(e){return e instanceof s.EK?e.toDate():e}async function d(e){try{let t=new Date,r={...e,status:"pending",createdAt:t};return{id:(await (0,s.ET)((0,s.hJ)(a.Z,"orders"),{...r,createdAt:s.EK.fromDate(r.createdAt)})).id,...r}}catch(e){throw console.error("Error creating order:",e),Error("Could not create the order.")}}async function o(){try{let e=(0,s.hJ)(a.Z,"orders");return(await (0,s.PL)(e)).docs.map(e=>{let t=e.data();return{id:e.id,customerName:t.customerName,address:t.address,items:t.items,total:t.total,status:t.status,createdAt:n(t.createdAt)}})}catch(e){return console.error("Error fetching orders:",e),[]}}async function l(e){try{let t=(0,s.JU)(a.Z,"orders",e),r=await (0,s.QT)(t);if(r.exists()){let e=r.data();return{id:r.id,customerName:e.customerName,address:e.address,items:e.items,total:e.total,status:e.status,createdAt:n(e.createdAt)}}console.warn("Order with ID ".concat(e," not found."));return}catch(e){throw console.error("Error fetching order:",e),Error("Could not fetch the order.")}}async function c(e,t){try{if(t.status&&!["pending","completed","cancelled"].includes(t.status))throw Error("Invalid order status");let r=(0,s.JU)(a.Z,"orders",e),d={...t};t.createdAt instanceof Date&&(d.createdAt=s.EK.fromDate(t.createdAt)),await (0,s.r7)(r,d);let o=await (0,s.QT)(r);if(o.exists()){let e=o.data();return{id:o.id,customerName:e.customerName,address:e.address,items:e.items,total:e.total,status:e.status,createdAt:n(e.createdAt)}}console.warn("Order with ID ".concat(e," not found after update."));return}catch(e){throw console.error("Error updating order:",e),Error("Could not update the order.")}}async function i(e){try{let t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1),d=(0,s.hJ)(a.Z,"orders"),o=(0,s.IO)(d,(0,s.ar)("status","==","completed"),(0,s.ar)("createdAt",">=",s.EK.fromDate(t)),(0,s.ar)("createdAt","<",s.EK.fromDate(r)));return(await (0,s.PL)(o)).docs.map(e=>{let t=e.data();return{id:e.id,customerName:t.customerName,address:t.address,items:t.items,total:t.total,status:t.status,createdAt:n(t.createdAt)}})}catch(e){return console.error("Error fetching completed orders for the day:",e),[]}}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(1994),s=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}},function(e){e.O(0,[358,448,137,971,117,744],function(){return e(e.s=2163)}),_N_E=e.O()}]);